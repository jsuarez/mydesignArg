(function($){$.fn.lavaLamp=function(o){o=$.extend({fx:"linear",speed:500,click:function(){}},o||{});var fhover;return this.each(function(){var me=$(this),noop=function(){},$back=$('<li class="back"><div class="left"></div></li>').appendTo(me),$li=$("li",this),curr=$("li.current",this)[0]||$($li[0]).addClass("current")[0];$li.not(".back").hover(function(){fhover=false;$(curr).find('a').css('color','#fff');move(this)},noop);$(this).hover(noop,function(){fhover=function(){$(curr).find('a').css('color','#1C3A50')};move(curr)});$li.click(function(e){setCurr(this);return o.click.apply(this,[e,this])});setCurr(curr);function setCurr(el){$back.css({"left":el.offsetLeft+"px","width":el.offsetWidth+"px"});curr=el};function move(el){$back.each(function(){$.dequeue(this,"fx")}).animate({width:el.offsetWidth,left:el.offsetLeft},o.speed,o.fx,function(){if(typeof(fhover)=="function")fhover()})}})}})(jQuery);